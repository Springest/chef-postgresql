standby_mode = 'on' # enables stand-by (readonly) mode

# Connect to the master postgres server using the replicator user we created.
primary_conninfo = 'host=<%= node['postgresql']['replication']['master'] %> port=<%= node['postgresql']['port'] %> user=<%= node['postgresql']['replication']['user'] %>'

# Specifies a trigger file whose presence should cause streaming replication to
# end (i.e., failover).
trigger_file = '/tmp/pg_failover_trigger'

# Shell command to execute an archived segment of WAL file series. 
# Required for archive recovery if streaming replication falls behind too far.
restore_command = 'cp /var/lib/postgresql/9.2/archive/%f %p'
archive_cleanup_command = 'pg_archivecleanup /var/lib/postgresql/9.2/archive/ %r'