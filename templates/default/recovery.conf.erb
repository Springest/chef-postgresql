standby_mode = 'on' # enables stand-by (readonly) mode

# Connect to the master postgres server using the replicator user we created.
primary_conninfo = 'host=<%= node["postgres"]['replication']['master'] %> port=<%= node["postgres"]['port'] %> user=<%= node["postgres"]['replication']['user'] %>'

# Specifies a trigger file whose presence should cause streaming replication to
# end (i.e., failover).
trigger_file = '/tmp/pg_failover_trigger'

# Shell command to execute an archived segment of WAL file series. 
# Required for archive recovery if streaming replication falls behind too far.
restore_command = 'cp <%= node['postgres']['archive_directory'] %>/%f %p'
archive_cleanup_command = 'pg_archivecleanup <%= node['postgres']['archive_directory'] %>/ %r'